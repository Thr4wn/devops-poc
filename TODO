[ ] use docker to snapshot changes to prod
[ ] define a "preprod" and docker pull updates from prod

[ ] salt deployment
    [ ] make salt state to deploy by grain.
    [ ] use piller to define things?

[ ] packer provision new preprod/prod machines.

[ ] on every push to master branch on app repo, automatically deploy.
    [ ] perhaps Huggin?
    [ ] this means that I need a script to deploy. migrate and pull.

---

[ ] salt: manage .bashrc file.

[ ] pretend that git repos are not public and that salt needs to manage private keys (service accounts) to acces them.

[ ] install/configure nginx

[ ] deployment
    [ ] change DB. then deploy
    [ ] rollback production.
